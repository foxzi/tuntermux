# TunTermux

Скрипт для автоматической настройки Termux на Android-устройстве.

## Использование

```bash
chmod +x tuntermux.sh
./tuntermux.sh
```

## Что делает скрипт

### 1. Проверка окружения
Скрипт проверяет, что запущен внутри Termux (наличие переменной `$PREFIX` и утилиты `pkg`).

### 2. Запрос данных пользователя
Интерактивно запрашивает:
- **Полное имя** — для Git коммитов
- **Email** — для Git коммитов
- **SSH-пользователь** — имя по умолчанию для SSH-подключений

### 3. Настройка хранилища
Запрашивает доступ к общему хранилищу Android через `termux-setup-storage`.

### 4. Обновление системы
- Обновляет репозитории пакетов (`pkg update`)
- Обновляет установленные пакеты (`pkg upgrade`)

### 5. Установка пакетов

| Пакет | Назначение |
|-------|------------|
| bash-completion | Автодополнение для bash |
| bat | cat с подсветкой синтаксиса |
| curl | Утилита для HTTP-запросов |
| gh | GitHub CLI |
| git | Система контроля версий |
| gnupg | Шифрование и подписи |
| golang | Язык программирования Go |
| htop | Интерактивный монитор процессов |
| jq | Парсинг и обработка JSON |
| mc | Midnight Commander (файловый менеджер) |
| micro | Простой текстовый редактор |
| mosh | SSH с автопереподключением |
| neovim | Продвинутый текстовый редактор |
| nodejs | Среда выполнения JavaScript |
| nmap | Сетевой сканер |
| openssh | SSH-клиент и сервер |
| python | Язык программирования Python |
| ripgrep | Быстрый поиск по файлам |
| rsync | Синхронизация файлов |
| dnsutils | DNS-утилиты (dig, nslookup) |
| telnet | Telnet-клиент |
| tmux | Терминальный мультиплексор |
| tree | Отображение дерева каталогов |
| whois | WHOIS-запросы |
| unzip | Распаковка ZIP-архивов |
| wget | Загрузка файлов |
| yq | Парсинг и обработка YAML |
| yt-dlp | Скачивание видео с YouTube |
| zip | Создание ZIP-архивов |

### 6. Конфигурация shell

**~/.profile:**
- Устанавливает `nvim` как редактор по умолчанию (`$EDITOR`, `$VISUAL`)
- Добавляет `~/.local/bin` в `$PATH`

**~/.bashrc:**
- Подключает bash-completion
- Алиасы: `ll`, `la`, `l`, `gs`, `gd`, `gl`, `..`, `...`

**~/.inputrc:**
- Настраивает поиск по истории стрелками вверх/вниз

**~/.tmux.conf:**
- Префикс `Ctrl+a` вместо `Ctrl+b`
- Поддержка мыши
- История 10000 строк
- Нумерация окон/панелей с 1
- Сплит панелей: `|` (вертикально), `-` (горизонтально)
- Навигация между панелями: `Alt+стрелки`
- Перезагрузка конфига: `prefix+r`

### 7. Конфигурация Git

**~/.gitconfig:**
- Имя и email пользователя (из интерактивного ввода)
- Редактор: nvim
- Цветной вывод
- `pull.ff = only` (только fast-forward при pull)

### 8. Конфигурация SSH

**~/.ssh/config:**
- Пользователь по умолчанию (из интерактивного ввода)
- Автоматическое добавление ключей в агент
- Поддержка ключей ed25519 и rsa
- Keep-alive соединения (каждые 60 сек)

### 9. Настройки Termux

**~/.termux/termux.properties:**
- Дополнительные клавиши (ESC, TAB, CTRL, ALT, стрелки, Home, End, PgUp, PgDn)
- Отключение звукового сигнала
- Отступы терминала (4px по горизонтали и вертикали)

**~/.termux/colors.properties:**
- Темная цветовая схема в стиле VS Code Dark

### 10. Установка шрифта
Скачивает и устанавливает шрифт **JetBrains Mono** для терминала.

### 11. Применение настроек
Вызывает `termux-reload-settings` для применения изменений без перезапуска.

## Особенности

- Скрипт идемпотентен: повторный запуск обновляет только измененные файлы
- При ошибке выводит номер строки и команду, вызвавшую сбой
- Уже установленные пакеты пропускаются

## Требования

- Termux (Android)
- Интернет-соединение
